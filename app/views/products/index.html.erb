 <div class="container-responsive">
		<div class="table-responsive">
			<div class="table-wrapper">
				<div class="table-title">
					<div class="row">
						<div class="col-xs-6">
							<h2><b>Productos</b></h2>
						</div>
						<div class="col-xs-6">
						<%= link_to new_product_path, class: "btn btn-success" do %>
							<i class="material-icons">&#xE147;</i> <span>Nuevo producto</span>
							<%end%>
						</div>
					</div>
				</div>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
                            <!-- checar que otros atributos son necesrios para empleados -->
              <th>ID</th>
							<th>Código de barras</th>
							<th>Nombre</th>
							<th>Categoría</th>
							<th>Lote</th>
							<th>Fecha de caducidad</th>
							<th>Precio compra</th>
							<th>Precio venta</th>
							<th>Unidades</th>
							<th>Nombre del proveedor</th>
						</tr>
					</thead>
					<tbody>
            <% @products.each do |product| %>
            <tr>
              <td><%=product.id%></td>
							<td><%=product.bar_code%></td>
              <td><%=product.name%></td>
              <td><%=product.category%></td>
              <td><%=product.batch%></td>
              <td><%=product.exp_date%></td>
              <td><%=product.buying_price%></td>
              <td><%=product.selling_price%></td>
              <td><%=product.units%></td>
              <td><%=product.supplier.name%></td>
              	<td>
								<%= link_to edit_product_path(product.id), class: "edit" do%>
								<i class="material-icons edit" data-toggle="tooltip" title="Edit">&#xE254;</i>
								<%end%>
								 <button onclick=<%="togglePasswordInput(#{product.id})"%>  class="btn btn-danger" id="delete-product-btn">
								<i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i>
								</button>
								<div id=<%="password-input-#{product.id}"%> style="display: none;">
                   <%= form_for product, as: :product, url: confirm_password_products_path(product.id),method: :post do |f|%>
                      <%= f.label :current_password, "Enter your password:" %>
                      <%= f.password_field  :current_password,  class: "form-control", data:{ delete_product_target:"password"} %>
                      <%= f.submit   "Confirm", class: "btn btn-primary", id: "delete-product", data:{ action: "click->delete-product#login"} %>
                </div>
              <%end%>
							</td>
            <% end %>
						</tr>
					</tbody>
				</table>
		</div>
    </div>
<script>
   function togglePasswordInput(id) {
    let passwordInput = document.getElementById(`password-input-${id}`);
    if (passwordInput.style.display === "none") {
      passwordInput.style.display = "block";
    } else {
      passwordInput.style.display = "none";
    }
  }
</script>
